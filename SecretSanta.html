<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NeuroICU Secret Santa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1b2b3a, #050610 60%);
      color: #f5f5f5;
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .card {
      background: rgba(0,0,0,0.55);
      border-radius: 16px;
      box-shadow: 0 0 25px rgba(0,0,0,0.7);
      padding: 24px 28px 28px;
      max-width: 540px;
      width: 90%;
    }
    h1 {
      text-align: center;
      margin-top: 0;
      font-size: 1.8rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #f0e68c;
    }
    h2 {
      font-size: 1.1rem;
      margin-top: 1.2rem;
      color: #ffe4b5;
    }
    p {
      line-height: 1.4;
      margin: 0.3rem 0;
    }
    ul {
      margin: 0.4rem 0 0.6rem 1.2rem;
      padding: 0;
    }
    li {
      margin-bottom: 0.25rem;
    }
    .input-row {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    input[type="text"] {
      flex: 1;
      padding: 0.45rem 0.6rem;
      border-radius: 999px;
      border: 1px solid #555;
      background: rgba(10,10,20,0.8);
      color: #f5f5f5;
      outline: none;
    }
    input[type="text"]::placeholder {
      color: #999;
    }
    button {
      padding: 0.45rem 0.9rem;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #1db954, #0a8f3b);
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
    }
    button:hover {
      background: linear-gradient(135deg, #22d15f, #0da348);
    }
    .result {
      margin-top: 1rem;
      padding-top: 0.8rem;
      border-top: 1px solid rgba(255,255,255,0.12);
    }
    .error {
      color: #ffb6b6;
      margin-top: 0.5rem;
    }
    .small-note {
      font-size: 0.82rem;
      opacity: 0.8;
    }
    .music-toggle {
      margin-top: 0.75rem;
      font-size: 0.85rem;
      text-align: right;
      cursor: pointer;
      color: #9fe6ff;
    }
    .budget-highlight {
      background: rgba(255, 215, 0, 0.1);
      padding: 0.5rem;
      border-left: 3px solid #ffd700;
      margin: 0.5rem 0;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>NeuroICU Secret Santa</h1>
 
    <h2>How it works</h2>
    <p>Welcome to the NeuroICU Secret Santa experiment.</p>
    <ul>
      <li>Each player has a unique access code. Keep it secret.</li>
      <li>Enter your code below to reveal your Secret Santa codename and your three giftees.</li>
      <li>Bring three gifts total, one for each of these colleagues.</li>
      <li>All gifts will be left in the NeuroICU work room to be picked up.</li>
    </ul>
 
    <div class="budget-highlight">
      <strong>ðŸ’° Budget: $20 per gift (max)</strong>
    </div>
 
    <h2>Investigation rules</h2>
    <ul>
      <li>With each gift, label it with your Secret Santa codename and the giftee's real name.</li>
      <li>Include one clue pointing toward your real identity.</li>
      <li>Players must compare clues with others who received gifts from the same codename Santa.</li>
      <li>Use the combined clues to deduce who your Secret Santa really is.</li>
    </ul>
 
    <div class="input-row">
      <input id="codeInput" type="text" maxlength="6" placeholder="Enter your secret code" />
      <button type="button" onclick="reveal()">Reveal</button>
    </div>
    <div id="error" class="error"></div>
 
    <div class="result" id="result" style="display:none;"></div>
 
    <div class="music-toggle" onclick="toggleMusic()">
      ðŸ”Š Toggle mysterious Christmas music
    </div>
    <p class="small-note">
      For the best effect, wear your most festive scrubs while investigating.
    </p>
  </div>
 
  <audio id="bgMusic" loop>
    <!-- Replace the src below with a hosted mysterious/ambient Christmas MP3 URL -->
    <!-- Example sources can be chosen from royalty-free Christmas or mysterious mood music libraries. -->
  </audio>
 
  <script>
    // Replace with your chosen mysterious/Christmas music URL:
    const musicSource = ""; // e.g. "https://example.com/path/to/mysterious_christmas.mp3"
    const bgMusic = document.getElementById("bgMusic");
    if (musicSource) {
      bgMusic.src = musicSource;
    }
 
    // Map codes to players and randomized assignments
    // Each person gives to 3 random others and receives from 3 random others
    const players = {
      "XAJI": {
        name: "Eyad",
        codename: "Frosty Neuron",
        giftees: ["Cienna", "Lauren", "Sarah"]
      },
      "0Y6D": {
        name: "Tia",
        codename: "Silent Synapse",
        giftees: ["Jaehan", "Erica", "Eyad"]
      },
      "PBHS": {
        name: "Blake",
        codename: "Arctic Axon",
        giftees: ["Danielle", "Caitlin", "Bridget"]
      },
      "AHXT": {
        name: "Jaehan",
        codename: "Midnight Myelin",
        giftees: ["Lauren", "Bridget", "Dallas"]
      },
      "HV3A": {
        name: "Caitlin",
        codename: "Polar Potential",
        giftees: ["Tia", "Beth", "Blake"]
      },
      "3ZMF": {
        name: "Kaitlen",
        codename: "Cranial Comet",
        giftees: ["Eyad", "Tia", "Alexis"]
      },
      "8MDD": {
        name: "Sarah",
        codename: "Festive Fissure",
        giftees: ["Caitlin", "Kaitlen", "Beth"]
      },
      "4V30": {
        name: "Cienna",
        codename: "Snowy Sulcus",
        giftees: ["Dallas", "Erica", "Kaitlen"]
      },
      "T9NT": {
        name: "Bridget",
        codename: "Holly Hypothalamus",
        giftees: ["Kaitlen", "Jaehan", "Eyad"]
      },
      "3W5U": {
        name: "Dallas",
        codename: "Yuletide Y-tract",
        giftees: ["Alexis", "Beth", "Sarah"]
      },
      "ZBIK": {
        name: "Danielle",
        codename: "North Pole Nucleus",
        giftees: ["Erica", "Tia", "Blake"]
      },
      "CIDK": {
        name: "Beth",
        codename: "Solstice Soma",
        giftees: ["Jaehan", "Cienna", "Lauren"]
      },
      "WNNH": {
        name: "Erica",
        codename: "Glacial Ganglion",
        giftees: ["Danielle", "Alexis", "Caitlin"]
      },
      "J7XV": {
        name: "Lauren",
        codename: "Tinsel Tract",
        giftees: ["Bridget", "Cienna", "Danielle"]
      },
      "G0FN": {
        name: "Alexis",
        codename: "Caroling Corpus Callosum",
        giftees: ["Dallas", "Sarah", "Blake"]
      }
    };
 
    function reveal() {
      const codeInput = document.getElementById("codeInput");
      const raw = codeInput.value.trim().toUpperCase();
      const errorEl = document.getElementById("error");
      const resultEl = document.getElementById("result");
      errorEl.textContent = "";
      resultEl.style.display = "none";
      resultEl.innerHTML = "";
 
      if (!raw) {
        errorEl.textContent = "Please enter your secret code.";
        return;
      }
 
      const player = players[raw];
      if (!player) {
        errorEl.textContent = "That code is not recognized. Check your code and try again.";
        return;
      }
 
      const { name, codename, giftees } = player;
 
      const html = `
        <h2>Your assignment</h2>
        <p>Hello, ${name}. Your Secret Santa codename is:</p>
        <p><strong style="font-size: 1.2rem; color: #ffd700;">${codename}</strong></p>
        <p>You must prepare <strong>3 gifts</strong> in total, one for each of these colleagues:</p>
        <ul>
          ${giftees.map(g => `<li>${g}</li>`).join("")}
        </ul>
        <div class="budget-highlight">
          <strong>Budget: $20 per gift (max)</strong>
        </div>
        <p><strong>For each gift, you must:</strong></p>
        <ul>
          <li>Keep the cost to $20 or less per gift.</li>
          <li>Label the gift with your codename and the giftee's real name.</li>
          <li>Include one clue pointing toward your real identity.</li>
        </ul>
        <p>All gifts should be left in the NeuroICU work room to be picked up.</p>
        <p>To unmask the Santas, compare clues with anyone else who received gifts from <em>${codename}</em> and use your best detective skills.</p>
      `;
 
      resultEl.innerHTML = html;
      resultEl.style.display = "block";
    }
 
    function toggleMusic() {
      if (!bgMusic.src && musicSource) {
        bgMusic.src = musicSource;
      }
      if (!bgMusic.src) {
        alert("Music is not configured yet. Add a mysterious Christmas track URL in the code.");
        return;
      }
      if (bgMusic.paused) {
        bgMusic.play();
      } else {
        bgMusic.pause();
      }
    }
  </script>
</body>
</html>